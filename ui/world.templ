package ui

import "github.com/ikhwanal/tinyworlds/world"

templ WorldView(w *world.World) {
	<!DOCTYPE html>
	<html>
		<head>
			<meta charset="utf-8"/>
			<title>TinyWorlds</title>
			<script src="https://unpkg.com/htmx.org@2.0.8/dist/htmx.min.js"></script>
			<link href="/static/tailwind.css" rel="stylesheet"/>
		</head>
		<body
			class="bg-gray-900 text-gray-100 flex flex-col items-center min-h-screen py-6"
			hx-get="/tick"
			hx-trigger="every 1s"
			hx-swap="outerHTML"
		>
			<h1 class="text-3xl font-bold mb-4">ğŸŒ TinyWorlds</h1>
			<table class="border-collapse border border-gray-700">
				for _, row := range w.Grid {
					<tr>
						for _, cell := range row {
							<td class={ CeilClass(cell.Type) }></td>
						}
					</tr>
				}
			</table>
			<p class="mt-4 text-sm text-gray-400">
				Agent moves every second & eats green food ğŸ
			</p>
		</body>
	</html>
}
